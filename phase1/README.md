# سیستم مدیریت پویای مصرف انرژی هوشمند

این پروژه یک سیستم مدیریت انرژی هوشمند برای ساختمان‌های اداری است که با استفاده از الگوهای طراحی Strategy و State پیاده‌سازی شده است.

## ویژگی‌ها

### قابلیت‌های مدیر سیستم
- تغییر سیاست محاسبه هزینه انرژی
- تغییر وضعیت سیستم انرژی

### قابلیت‌های کاربران
- مشاهده وضعیت فعلی سیستم
- مشاهده کل هزینه مصرف انرژی
- شبیه‌سازی مصرف انرژی

## الگوهای طراحی

### الگوی Strategy (استراتژی)
برای مدیریت سه نوع تعرفه محاسبه هزینه:
- **تعرفه معمولی**: 500 تومان به ازای هر واحد
- **تعرفه زمان اوج مصرف**: 1000 تومان به ازای هر واحد  
- **تعرفه سبز**: 300 تومان به ازای هر واحد

### الگوی State (حالت)
برای مدیریت سه حالت سیستم انرژی:
- **فعال (Active)**: همه سیستم‌ها روشن - مصرف 100%
- **اقتصادی (Eco Mode)**: فقط سیستم‌های حیاتی فعال - مصرف 30%
- **خاموش (Shutdown)**: همه سیستم‌ها خاموش - مصرف 0%

## نحوه اجرا

### پیش‌نیازها
- Java JDK 8 یا بالاتر
- Apache Maven

### مراحل اجرا
1. کلون کردن پروژه:
   bash
   git clone <repository-url>
   cd energy-management-system

2. کامپایل و اجرای تست‌ها:
   bash
   mvn compile
   mvn test

3. اجرای برنامه:
   bash
   mvn exec:java -Dexec.mainClass="com.energymanagement.Main"

## تست‌ها

پروژه شامل تست‌های جامع برای تمام کامپوننت‌های اصلی است:
- تست الگوی Strategy
- تست الگوی State
- تست سیستم مدیریت انرژی
- تست‌های یکپارچه‌سازی

برای اجرای تست‌ها و مشاهده coverage:
bash
mvn test
mvn jacoco:report

## پیاده‌سازی الگوهای طراحی

### Strategy Pattern
این الگو برای مدیریت انواع مختلف محاسبه هزینه انرژی استفاده شده است. هر استراتژی یک روش محاسبه مستقل دارد و در زمان اجرا قابل تغییر است.

**مزایا:**
- قابلیت تغییر روش محاسبه در زمان اجرا
- سادگی اضافه کردن تعرفه‌های جدید
- جداسازی منطق محاسبه از کنتکست اصلی

### State Pattern
این الگو برای مدیریت حالات مختلف سیستم انرژی استفاده شده است. هر حالت رفتار مخصوص به خود را دارد.

**مزایا:**
- مدیریت تغییرات پیچیده حالت
- کپسوله‌سازی رفتار مربوط به هر حالت
- امکان کنترل انتقال بین حالات
